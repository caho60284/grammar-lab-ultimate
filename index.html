<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Grammar Structure Analyzer</title>

<style>
body{
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#f4f6f8;
margin:0;
padding:18px;
}

.container{
max-width:900px;
margin:auto;
}

h1{
color:#2f6f5e;
font-size:26px;
margin-bottom:14px;
line-height:1.2;
}

textarea{
width:100%;
padding:16px;
border-radius:14px;
border:1px solid #d6dde2;
font-size:18px;
min-height:120px;
box-sizing:border-box;
background:white;
}

button{
margin-top:14px;
padding:14px;
border:none;
border-radius:14px;
background:#2f6f5e;
color:white;
font-size:18px;
width:100%;
}

.table-wrap{
margin-top:18px;
background:white;
border-radius:16px;
overflow:auto;
box-shadow:0 3px 10px rgba(0,0,0,0.06);
}

table{
width:100%;
border-collapse:collapse;
min-width:520px;
}

th{
background:#eef3f1;
color:#2f6f5e;
font-weight:600;
padding:12px;
font-size:15px;
}

td{
padding:12px;
border-bottom:1px solid #edf1f4;
font-size:15px;
vertical-align:top;
}
</style>
</head>

<body>
<div class="container">

<h1>English Grammar Structure Analyzer</h1>

<textarea id="input" placeholder="Tulis kalimat Inggris..."></textarea>
<button onclick="analyze()">Analyze</button>

<div class="table-wrap">
<table>
<thead>
<tr>
<th>Bagian</th>
<th>Peran</th>
<th>Jenis</th>
<th>Penjelasan</th>
</tr>
</thead>
<tbody id="out"></tbody>
</table>
</div>

</div>

<script>

function analyze(){

const text=document.getElementById("input").value.trim()
const out=document.getElementById("out")
out.innerHTML=""

if(!text)return

const words=text
.replace(/â€™/g,"'")
.replace(/I'm/gi,"I am")
.split(/\s+/)

const modals=["can","could","will","would","shall","should","may","might","must"]
const preps=["in","on","at","to","for","with","from","of","about","by","after","before","under","over"]
const be=["am","is","are","was","were","be","been","being"]

let subject=null
let verb=null
let complement=null
let object=null
let pp=[]
let clause=[]
let modal=null

// SUBJECT = first pronoun or noun
const pronouns=["i","you","he","she","we","they","it"]
for(let w of words){
if(pronouns.includes(w.toLowerCase())){
subject=w
break
}
}

// VERB utama = first be or verb setelah subject
let subjIndex=words.indexOf(subject)
for(let i=subjIndex+1;i<words.length;i++){
let w=words[i].toLowerCase()
if(be.includes(w)||modals.includes(w)){
verb=words[i]
break
}
}

// MODAL
for(let w of words){
if(modals.includes(w.toLowerCase())){
modal=w
break
}
}

// PREPOSITIONAL PHRASE
for(let i=0;i<words.length;i++){
if(preps.includes(words[i].toLowerCase())){
pp.push(words.slice(i).join(" "))
break
}
}

// COMPLEMENT = adjective setelah be
if(verb && be.includes(verb.toLowerCase())){
let idx=words.indexOf(verb)
if(words[idx+1]){
complement=words.slice(idx+1).join(" ")
}
}

// SUBORDINATE CLAUSE = modal after adjective/complement
if(complement){
let compWords=complement.split(" ")
for(let i=0;i<compWords.length;i++){
if(modals.includes(compWords[i].toLowerCase())){
clause=compWords.slice(i).join(" ")
complement=compWords.slice(0,i).join(" ")
break
}
}
}

// OBJECT = noun after main verb (non be)
if(verb && !be.includes(verb.toLowerCase())){
let idx=words.indexOf(verb)
if(words[idx+1]){
object=words.slice(idx+1).join(" ")
}
}

// OUTPUT
function row(seg,role,type,exp){
out.innerHTML+=`<tr>
<td>${seg||"-"}</td>
<td>${role}</td>
<td>${type}</td>
<td>${exp}</td>
</tr>`
}

if(subject)row(subject,"Subjek utama","Kata ganti","Pelaku utama kalimat")
if(verb)row(verb,"Kata kerja utama","Verb","Predikat utama kalimat")
if(complement)row(complement,"Pelengkap","Adjective phrase","Menjelaskan subjek")
if(object)row(object,"Objek","Noun phrase","Penerima aksi")
if(modal && clause)row(modal,"Modal dalam klausa","Modal","Menunjukkan kemungkinan/kemampuan")
if(clause.length)row(clause,"Klausa bawahan","Subordinate clause","Klausa tambahan")
if(pp.length)row(pp,"Frasa preposisi","Prepositional phrase","Keterangan tempat/waktu")

}

</script>
</body>
</html>