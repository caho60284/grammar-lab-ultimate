<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Grammar Structure Analyzer</title>

<style>
body{
  font-family: system-ui, Arial;
  margin:0;
  padding:20px;
  background:#f4f7f6;
  color:#1f2933;
}
h1{
  color:#2f6f5e;
  margin-bottom:4px;
}
.subtitle{
  color:#6b7280;
  margin-bottom:20px;
}
textarea{
  width:100%;
  min-height:120px;
  border-radius:14px;
  border:1px solid #cbd5e1;
  padding:14px;
  font-size:18px;
}
button{
  width:100%;
  margin-top:14px;
  background:#2f6f5e;
  color:white;
  border:none;
  border-radius:14px;
  padding:16px;
  font-size:18px;
}
.card{
  background:white;
  margin-top:18px;
  border-radius:16px;
  padding:16px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:10px;
  border-bottom:1px solid #e5e7eb;
  text-align:left;
  vertical-align:top;
}
th{
  background:#ecf3f1;
  color:#2f6f5e;
}
.meaning{
  background:#e7f1ee;
  padding:12px;
  border-radius:10px;
}
</style>
</head>

<body>

<h1>English Grammar Structure Analyzer</h1>
<div class="subtitle">Analisis struktur kalimat Inggris lengkap</div>

<textarea id="input" placeholder="Tulis kalimat Inggris..."></textarea>
<button onclick="analyze()">Analyze</button>

<div id="result"></div>

<script>
const pronouns = ["i","you","he","she","it","we","they","me","him","her","us","them"];
const modals = ["can","could","may","might","must","shall","should","will","would"];
const preps = ["in","on","at","to","for","with","from","of","about","into","over","under","after","before"];
const beVerbs = ["am","is","are","was","were","be","been","being"];

function pos(word){
  word = word.toLowerCase();

  if(pronouns.includes(word)) return ["Subjek / objek","Kata ganti"];
  if(modals.includes(word)) return ["Modal","Kata kerja bantu"];
  if(preps.includes(word)) return ["Preposisi","Kata depan"];
  if(beVerbs.includes(word)) return ["Kata kerja utama","Be verb"];
  if(word.endsWith("ing")) return ["Verb-ing / Gerund","Kata kerja bentuk -ing"];
  if(word.endsWith("ed")) return ["Verb past","Kata kerja lampau"];
  if(word.endsWith("ly")) return ["Adverb","Kata keterangan"];
  if(word.endsWith("ous")||word.endsWith("ful")||word.endsWith("ive")||word.endsWith("al")||word.endsWith("y"))
    return ["Adjective","Kata sifat"];

  return ["Kata benda / umum","Kemungkinan noun"];
}

function translate(word){
  const dict = {
    i:"aku",you:"kamu",he:"dia",she:"dia",we:"kami",they:"mereka",
    am:"adalah",is:"adalah",are:"adalah",was:"adalah",were:"adalah",
    happy:"senang",sad:"sedih",hungry:"lapar",thirsty:"haus",
    sleepy:"mengantuk",eat:"makan",take:"mengambil",
    coat:"mantel",make:"membuat",come:"datang"
  };
  return dict[word.toLowerCase()] || word;
}

function sentenceMeaning(words){
  return words.map(w=>translate(w)).join(" ");
}

function analyze(){
  const text = document.getElementById("input").value.trim();
  if(!text) return;

  const words = text.replace(/[.,!?]/g,"").split(/\s+/);

  let rows = "";
  words.forEach(w=>{
    const [role,type] = pos(w);
    rows += `
      <tr>
        <td>${w}</td>
        <td>${role}</td>
        <td>${type}</td>
        <td>${explain(role,type)}</td>
      </tr>`;
  });

  const meaning = sentenceMeaning(words);

  document.getElementById("result").innerHTML = `
    <div class="card">
      <table>
        <tr>
          <th>Bagian</th>
          <th>Peran</th>
          <th>Jenis</th>
          <th>Penjelasan</th>
        </tr>
        ${rows}
      </table>
    </div>

    <div class="card">
      <b>Meaning kalimat</b>
      <div class="meaning">${meaning}</div>
    </div>
  `;
}

function explain(role,type){
  if(role.includes("Subjek")) return "Pelaku atau yang dibicarakan dalam kalimat.";
  if(role==="Modal") return "Kata kerja bantu yang menunjukkan kemampuan, kemungkinan, izin, atau keharusan.";
  if(role==="Preposisi") return "Kata depan yang menunjukkan hubungan tempat, waktu, atau arah.";
  if(type==="Be verb") return "Kata kerja penghubung antara subjek dan sifat/keadaan.";
  if(type.includes("Adjective")) return "Kata sifat yang menjelaskan noun atau subjek.";
  if(type.includes("Adverb")) return "Kata keterangan yang menjelaskan cara atau keadaan.";
  if(type.includes("Verb")) return "Kata kerja yang menyatakan tindakan atau keadaan.";
  return "Kata umum dalam kalimat.";
}

// ENTER = ANALYZE
document.getElementById("input").addEventListener("keydown",function(e){
  if(e.key==="Enter" && !e.shiftKey){
    e.preventDefault();
    analyze();
  }
});
</script>

</body>
</html>