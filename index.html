<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Grammar Structure Analyzer</title>

<style>

body{
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#f4f6f8;
margin:0;
padding:18px;
}

.container{
max-width:900px;
margin:auto;
}

h1{
color:#2f6f5e;
font-size:26px;
margin-bottom:14px;
line-height:1.2;
}

textarea{
width:100%;
padding:16px;
border-radius:14px;
border:1px solid #d6dde2;
font-size:18px;
min-height:120px;
box-sizing:border-box;
background:white;
}

button{
margin-top:14px;
padding:14px 20px;
border:none;
border-radius:14px;
background:#2f6f5e;
color:white;
font-size:18px;
width:100%;
}

.table-wrap{
margin-top:18px;
background:white;
border-radius:16px;
overflow:auto;
box-shadow:0 3px 10px rgba(0,0,0,0.06);
}

table{
width:100%;
border-collapse:collapse;
min-width:520px;
}

th{
background:#eef3f1;
color:#2f6f5e;
font-weight:600;
padding:12px;
font-size:15px;
}

td{
padding:12px;
border-bottom:1px solid #edf1f4;
font-size:15px;
vertical-align:top;
}

@media (max-width:600px){

h1{font-size:22px;}
textarea{font-size:17px;padding:14px;}
button{font-size:17px;padding:13px;}
th,td{font-size:14px;padding:10px;}

}

</style>
</head>

<body>

<div class="container">

<h1>English Grammar Structure Analyzer</h1>

<textarea id="input" placeholder="Ketik kalimat Inggris di sini..."></textarea>
<button onclick="analyze()">Analyze</button>

<div class="table-wrap">
<table>
<thead>
<tr>
<th>Bagian Kalimat</th>
<th>Peran</th>
<th>Jenis</th>
<th>Penjelasan</th>
</tr>
</thead>
<tbody id="out"></tbody>
</table>
</div>

</div>

<script>

const prepositions = [
"in","on","at","in front of","behind","under","over","between",
"inside","outside","near","with","without","for","from","to",
"into","onto","about","around","through","across","after",
"before","during","because of"
]

const modals = [
"can","could","will","would","shall","should","may","might","must"
]

const beVerbs = [
"am","is","are","was","were","be","been","being"
]

function analyze(){

const text = document.getElementById("input").value.trim()
const out = document.getElementById("out")

out.innerHTML=""

if(!text) return

const words = text.split(/\s+/)

let subject = ""
let verb = ""
let modal = ""
let prepPhrase = ""
let adjective = ""
let adverb = ""

for(let i=0;i<words.length;i++){

let w = words[i].toLowerCase()

if(!modal && modals.includes(w)){
modal = words[i]
continue
}

if(!verb && (beVerbs.includes(w) || w.endsWith("ed") || w.endsWith("ing"))){
verb = words[i]
continue
}

if(!prepPhrase){
for(let p of prepositions){
if(text.toLowerCase().includes(p+" ")){
let idx = text.toLowerCase().indexOf(p+" ")
prepPhrase = text.substring(idx)
break
}
}
}

if(!adverb && w.endsWith("ly")){
adverb = words[i]
}

if(!adjective && i>0 && beVerbs.includes(words[i-1].toLowerCase())){
adjective = words[i]
}

}

if(!verb){
verb = words.find(w=>w.endsWith("s")||w.endsWith("ed")||w.endsWith("ing")) || ""
}

if(!subject){
let idxVerb = words.indexOf(verb)
if(idxVerb>0){
subject = words.slice(0,idxVerb).join(" ")
}else{
subject = words[0]
}
}

function row(seg,type,sub,exp){
if(!seg) return
out.innerHTML += `
<tr>
<td>${seg}</td>
<td>${type}</td>
<td>${sub}</td>
<td>${exp}</td>
</tr>`
}

row(subject,"Subject","Frasa benda",
"Bagian yang menjadi pelaku atau topik utama kalimat. Bisa berupa kata benda tunggal atau frasa panjang.")

if(modal){
row(modal,"Kata kerja bantu","Modal",
"Kata kerja bantu yang menyatakan kemampuan, kemungkinan, izin, atau kewajiban.")
}

row(verb,"Predikat","Kata kerja utama",
"Kata kerja utama yang menyatakan tindakan, keadaan, atau peristiwa.")

if(adjective){
row(adjective,"Pelengkap","Adjective",
"Kata sifat yang menjelaskan subjek, biasanya muncul setelah kata kerja 'be'.")
}

if(adverb){
row(adverb,"Keterangan","Adverb",
"Kata keterangan yang menjelaskan cara, tingkat, atau keadaan tindakan.")
}

if(prepPhrase){
row(prepPhrase,"Keterangan","Prepositional phrase",
"Frasa yang diawali preposisi dan menerangkan tempat, waktu, atau hubungan.")
}

}

document.getElementById("input").addEventListener("keydown",function(e){
if(e.key==="Enter" && !e.shiftKey){
e.preventDefault()
analyze()
}
})

</script>

</body>
</html>