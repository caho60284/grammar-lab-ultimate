<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Grammar Analyzer</title>

<style>
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#f4f6f5;
  margin:0;
  padding:20px;
}

h1{
  color:#234;
}

textarea{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid #ccc;
  font-size:18px;
}

button{
  margin-top:14px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#456b5d;
  color:#fff;
  font-size:18px;
}

.result{
  margin-top:20px;
  background:#fff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
}
</style>
</head>

<body>

<h1>ðŸ§  English Grammar Analyzer</h1>

<textarea id="inputSentence" placeholder="Type sentence..."></textarea>
<button onclick="analyze()">Analyze</button>

<div id="result" class="result"></div>

<script>

function normalizeSentence(t){
  t=t.trim();

  if(t.startsWith("nâ€™t ")) t="I could"+t;
  if(t.startsWith("â€™t ")) t="I could"+t;

  if(!/^[A-Z]/.test(t))
    t=t.charAt(0).toUpperCase()+t.slice(1);

  return t;
}

async function translateNatural(text){
  try{
    const url="https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=id&dt=t&q="
      +encodeURIComponent(text);

    const res=await fetch(url);
    const data=await res.json();

    return data[0].map(x=>x[0]).join("");
  }catch(e){
    return "";
  }
}

function analyze(){
  const input=document.getElementById("inputSentence").value;
  const fixed=normalizeSentence(input);

  const resultBox=document.getElementById("result");

  translateNatural(fixed).then(tr=>{
    resultBox.innerHTML=
      "<b>"+fixed+"</b><br><br>Arti: "+tr;
  });
}

</script>
</body>
</html>