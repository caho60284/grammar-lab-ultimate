<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grammar Lab</title>

<style>
body{
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#f4f6f8;
margin:0;
padding:20px;
}

.container{
max-width:700px;
margin:auto;
}

h1{
color:#2f6f5e;
margin-bottom:6px;
}

.subtitle{
color:#7a8a93;
margin-bottom:18px;
}

textarea{
width:100%;
padding:14px;
border-radius:14px;
border:1px solid #d7dde2;
font-size:18px;
min-height:110px;
}

button{
margin-top:14px;
padding:12px 22px;
border:none;
border-radius:14px;
background:#2f6f5e;
color:white;
font-size:18px;
}

.card{
background:white;
padding:16px;
border-radius:14px;
margin-top:14px;
box-shadow:0 2px 5px rgba(0,0,0,.05);
}

.label{
color:#2f6f5e;
font-weight:600;
margin-bottom:6px;
}

.ok{color:#2f8f55}
.err{color:#c0392b}

.rewrite{
background:#e8f1ed;
padding:10px;
border-radius:8px;
}

.meaning{
background:#e8f1ed;
padding:10px;
border-radius:8px;
}
</style>
</head>

<body>
<div class="container">

<h1>Grammar Lab</h1>
<div class="subtitle">Quick grammar check</div>

<textarea id="input" placeholder="Type sentence..."></textarea>
<button onclick="analyze()">Check</button>

<div id="issues" class="card"></div>
<div id="rewrite" class="card"></div>
<div id="meaning" class="card"></div>

</div>

<script>

const pronouns = ["i","you","we","they","he","she","it"];
const beForms = ["am","is","are","was","were"];
const modals = ["will","would","can","could","should","shall","may","might","must"];

function analyze(){

let text = document.getElementById("input").value.trim();
if(!text) return;

let words = text.toLowerCase().split(/\s+/);

let issues=[];
let rewrite=text;

/* RULE 1: pronoun + word => add BE */
if(words.length==2 && pronouns.includes(words[0]) && !beForms.includes(words[1])){
issues.push("Missing BE");
rewrite = words[0]+" am "+words[1];
}

/* RULE 2: modal + ing */
if(words.length>=3 && modals.includes(words[1]) && words[2].endsWith("ing")){
issues.push("Modal + base verb");
rewrite = words[0]+" "+words[1]+" "+words[2].replace("ing","");
}

/* RULE 3: need + verb */
if(words.length>=3 && words[1]=="need" && words[2]!="to"){
issues.push("need → to infinitive");
rewrite = words[0]+" need to "+words.slice(2).join(" ");
}

/* OUTPUT ISSUES */
let issueHTML="";
if(issues.length==0){
issueHTML="<div class='ok'>✔ OK</div>";
}else{
issues.forEach(i=> issueHTML+="<div class='err'>❌ "+i+"</div>");
}

/* MEANING SIMPLE */
let meaning = translateSimple(rewrite);

document.getElementById("issues").innerHTML=
"<div class='label'>Issues</div>"+issueHTML;

document.getElementById("rewrite").innerHTML=
"<div class='label'>Rewrite</div><div class='rewrite'>"+rewrite+"</div>";

document.getElementById("meaning").innerHTML=
"<div class='label'>Meaning</div><div class='meaning'>"+meaning+"</div>";
}

function translateSimple(s){

s=s.toLowerCase();

if(s.includes("hungry")) return "lapar";
if(s.includes("thirsty")) return "haus";
if(s.includes("sleepy")) return "mengantuk";
if(s.includes("tired")) return "lelah";
if(s.includes("eat")) return "makan";
if(s.includes("drink")) return "minum";

return s;
}

document.getElementById("input").addEventListener("keydown",function(e){
if(e.key==="Enter"){
e.preventDefault();
analyze();
}
});

</script>
</body>
</html>