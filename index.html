<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Grammar Analyzer</title>

<style>
body{
font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
background:#f4f6f5;
margin:0;
padding:20px;
color:#1f2d2a;
}

h1{
font-size:28px;
margin-bottom:6px;
color:#2f5d50;
}

.subtitle{
color:#6c7f78;
margin-bottom:20px;
}

textarea{
width:100%;
padding:16px;
border-radius:14px;
border:1px solid #cfd8d3;
font-size:18px;
resize:none;
min-height:90px;
box-sizing:border-box;
}

button{
width:100%;
margin-top:14px;
padding:16px;
border:none;
border-radius:14px;
background:#3f6f5f;
color:white;
font-size:18px;
}

.card{
background:white;
border-radius:16px;
padding:14px;
margin-top:18px;
box-shadow:0 4px 10px rgba(0,0,0,0.05);
overflow-x:auto;
}

table{
width:100%;
border-collapse:collapse;
font-size:15px;
}

th{
background:#e6ece9;
padding:10px;
text-align:left;
color:#355e52;
}

td{
padding:10px;
border-top:1px solid #eef2f0;
}

.meaning{
background:#e8f0ec;
padding:12px;
border-radius:10px;
margin-top:8px;
}
</style>
</head>

<body>

<h1>ðŸ§  English Grammar Analyzer</h1>
<div class="subtitle">Analisis struktur + phrase + arti otomatis</div>

<textarea id="input" placeholder="Ketik kalimat..."></textarea>
<button onclick="analyze()">Analyze</button>

<div id="result"></div>

<script>

const prepositions = [
"to","in","on","at","from","with","about","for","of","by","into","onto","over","under"
];

const pronouns = [
"i","you","he","she","it","we","they","me","him","her","us","them"
];

const beVerbs = ["am","is","are","was","were"];

const verbs = [
"go","make","take","come","see","know","get","give","find","think","tell","be"
];

function analyze(){

const text = document.getElementById("input").value.trim();
if(!text) return;

const words = text.split(/\s+/);
let rows = [];
let meaning = "";

for(let i=0;i<words.length;i++){

let w = words[i].toLowerCase();

if(pronouns.includes(w)){
rows.push([words[i],"Subjek","Kata ganti","Pelaku utama kalimat"]);
continue;
}

if(beVerbs.includes(w)){
rows.push([words[i],"Kata kerja","Be verb","Penghubung subjek dan sifat"]);
continue;
}

if(verbs.includes(w)){
rows.push([words[i],"Predikat","Verb","Tindakan utama"]);
continue;
}

if(prepositions.includes(w)){
let next = words[i+1] || "";
rows.push([w+" "+next,"Prepositional phrase","Frasa preposisi","Keterangan relasi"]);
rows.push([next,"Objek preposisi","Noun","Objek dari preposisi"]);
i++;
continue;
}

if(w.endsWith("ing")){
rows.push([words[i],"Gerund / Verb-ing","Kata kerja bentuk -ing","Bisa jadi subjek atau objek"]);
continue;
}

rows.push([words[i],"Kata","Umum","Perlu konteks"]);
}

meaning = translateSimple(words);

render(rows,meaning);
}

function translateSimple(words){

const dict={
i:"aku",
go:"pergi",
to:"ke",
school:"sekolah",
church:"gereja",
you:"kamu",
make:"membuat",
it:"itu",
take:"mengambil",
coat:"mantel"
};

return words.map(w=>dict[w.toLowerCase()]||w).join(" ");
}

function render(rows,meaning){

let html = `
<div class="card">
<table>
<tr>
<th>Bagian</th>
<th>Peran</th>
<th>Jenis</th>
<th>Penjelasan</th>
</tr>
`;

rows.forEach(r=>{
html+=`<tr>
<td>${r[0]}</td>
<td>${r[1]}</td>
<td>${r[2]}</td>
<td>${r[3]}</td>
</tr>`;
});

html+=`</table></div>

<div class="card">
<b>Meaning:</b>
<div class="meaning">${meaning}</div>
</div>
`;

document.getElementById("result").innerHTML=html;
}

</script>

</body>
</html>